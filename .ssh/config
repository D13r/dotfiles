Include config_local

Host localhost
    ForwardAgent yes
    ForwardX11 yes

# Lines starting with "##|" are used in ~/.bin/terminal-menu

##| Personal | k | kara.djm.me | Development VM on Chell
Host k kara kara.djm.me
    Hostname kara.djm.me
    User dave
    ForwardAgent yes
    ForwardX11 yes

##| Personal | m | maria.djm.me | Desktop PC
Host m maria maria.djm.me
    Hostname maria.djm.me
    User dave
    ForwardAgent yes
    ForwardX11 yes

##| Personal | 7& | seven.djm.me | Production VM (Hetzner)
Host 7 seven seven.djm.me
    Hostname seven.djm.me
    User dave
    ForwardAgent yes

##| Mathematical Institute | b | beulah-penguin.maths.ox.ac.uk | Desktop PC
Host b bp beulah-penguin beulah-penguin.maths.ox.ac.uk
    Hostname beulah-penguin.maths.ox.ac.uk
    User miller
    ForwardAgent yes
    ForwardX11 yes

##| Mathematical Institute | c | centurion.maths.ox.ac.uk | Development VM (PHP 7.4)
Host c centurion centurion.maths.ox.ac.uk
    Hostname centurion.maths.ox.ac.uk
    ForwardAgent yes
    ForwardX11 yes

##| Mathematical Institute | e | edgbaston.maths.ox.ac.uk | Development VM (PHP 8.1)
Host e edgbaston edgbaston.maths.ox.ac.uk
    Hostname edgbaston.maths.ox.ac.uk
    ForwardAgent yes
    ForwardX11 yes

##| Mathematical Institute | q | quicksilver.maths.ox.ac.uk | Compute system
Host q quicksilver quicksilver.maths.ox.ac.uk
    Hostname quicksilver.maths.ox.ac.uk
    User miller
    ForwardAgent yes
    ForwardX11 yes

##| Mathematical Institute | t | trent-bridge.maths.ox.ac.uk | Main website - staging | local-tmux
Host tb trent-bridge trent-bridge.maths.ox.ac.uk
    Hostname trent-bridge.maths.ox.ac.uk
    ForwardAgent yes

##| Mathematical Institute | w | www.maths.ox.ac.uk | Main website - live | local-tmux
Host www www.maths.ox.ac.uk
    ForwardAgent yes

Host boot boot.djm.me
    Hostname boot.djm.me
    User dave
    ForwardAgent yes
    ForwardX11 yes

Host ddp daydreamerphotos.com
    Hostname daydreamerphotos.com
    User daydream
    ForwardAgent yes

Host gate gate.maths.ox.ac.uk
    Hostname gate.maths.ox.ac.uk
    User miller
    ForwardAgent yes
    ForwardX11 yes

Host ganeti ganeti.maths.ox.ac.uk
    Hostname ganeti.maths.ox.ac.uk

Host mddp my.daydreamerphotos.com
    Hostname my.daydreamerphotos.com
    User mydaydre
    ForwardAgent yes

Host pi pi.djm.me
    Hostname pi.djm.me
    User pi
    ForwardAgent yes
    ForwardX11 yes

Host puppet puppet.maths.ox.ac.uk
    Hostname puppet.maths.ox.ac.uk
    ForwardAgent yes

Host *
    Compression yes
    ForwardAgent no
    ForwardX11 no
    ServerAliveInterval 15
    UpdateHostKeys yes

    # It is more common for me to be connecting as 'root' than as whatever
    # username I happen to be logged into right now, so make that the default
    User root

    # Don't hash known hosts, it doesn't really add much security since
    # most hosts are also listed in this file and/or Bash history
    HashKnownHosts no

    # Reuse connections
    ControlMaster auto
    ControlPath ~/.ssh/control-master-%r@%h:%p
    ControlPersist 10s

Match final host *.maths.ox.ac.uk !host gate.maths.ox.ac.uk !exec ~/.bin/is-maths
    ProxyJump gate
